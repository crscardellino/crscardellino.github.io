<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="title" content="Cristian Cardellino"><meta name="description" content="Cristian Cardellino's personal page"><meta name="author" content="Cristian Cardellino"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><!-- (c) 2014 Cristian Cardellino --><!-- Source code licensed under MIT license. --><!-- Check http://crscardellino.me/LICENSE for more information. --><!-- Content and design licensed under Creative Commons BY-SA --><!-- Check https://creativecommons.org/licenses/by-sa/4.0/ for more information --><title>Cristian Cardellino</title><!-- CSS--><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" type="text/css"><link rel="stylesheet" href="/css/main.css" type="text/css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" type="text/css"><link rel="shortcut icon" href="/images/favicon.ico" type="text/css"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Arvo:700" type="text/css"><!-- Google Analytics--><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)
[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-30086759-1', 'auto');
ga('send', 'pageview');
</script></head><body><section id="header" style="background-image: url(../../images/lamp.jpg);"></section><section id="content"><div class="container"><h1 class="typewriter"><a href="/">Cristian Cardellino</a></h1><ul id="navbar" class="list-inline h4 typewriter"><li><a href="/about">Human.</a></li><li><a href="/blog" class="active">Coder.</a></li><li><a href="/social">Writer.</a></li><li><a href="/contact">Geek.</a></li></ul></div><div class="container"><div class="row"><div class="col-md-12"><h2>Blog</h2></div></div><div class="row"><div class="col-md-1"></div><div class="col-md-10 text-justify"><div class="row"><div class="col-md-9"><h3>Crash Course: From Python to Scala (IV)</h3></div><div class="col-md-3"> <button disabled="disabled" class="date btn btn-default btn-block btn-default">Aug 7, 2014</button></div></div><div class="row"><div class="col-md-12"><p>Ok. So, now you&#39;ve learnt about Scala lists. As you could see in the previous
examples, Scala has a very <em>functional</em> kind of lists, as these are immutable.</p>
<p>If you are ever to use Scala as a functional programming language this is the
way to go. I really recommend you to, at least, try to learn this paradigm, as
it is design purpose and has many advantages. But, then again, even now I
sometimes go back to imperative programming in Scala myself because is more
natural to me. Scala as imperative language is pretty similar to Java, so as a
side effect I ended up learning how to read Java code (I knew some Java but
only the basics, learning Scala my Java understanding improved a lot).</p>
<p>But, lets say that functional programming is way too much to deal with now and
you want to know a type more similar to Python lists, the oldie but goodie
mutable lists. You have a couple of options of data structures available in
Scala, I&#39;ll present two of the most commons.</p>
<h4>Scala Arrays</h4>
<p>Ok, if my university&#39;s data structure teacher sees me presenting Scala arrays as
an option for a &quot;mutable&quot; list he probably would take away my degree and force
me to redo the Computer Sciences career all over again.</p>
<p>An array <strong>is not</strong> a list and will never be one. But, for someone who comes
from a Python environment, it&#39;s probably an easy option to replace a immutable
list for a mutable version.</p>
<p>Arrays are the simplest and one of the oldest (if not <em>the</em> oldest) data
structure you&#39;ll ever face with. In fact, most high-level programming languages
lists are internally implemented as arrays. If you&#39;ve ever deal with a real old
imperative programming language (I&#39;m looking at you C developer), you are
familiar to the concept of array. The thing is that Python doesn&#39;t really have
them (at least not internally, you&#39;ll have to import a module for dealing with
arrays).</p>
<p>Arrays have some pros and cons in programming, as every data structure. Among
the most common pros of an array you&#39;ll find the efficiency they carry in
comparison to lists. As arrays are represented as collection of elements (of
the same type) stored in a continuous space of memory. They differ from lists
in that you&#39;ll have an index for all the elements (which makes the access time
of a constant order) and in general are faster to make operations than in lists
which can have chunks of elements sparse in many places.</p>
<!-- more -->

<p>Arrays in Scala are a built-in type (you don&#39;t have to import them), and they
are completely compatible with Java arrays (in fact, are implemented as a
wrapper of Java arrays). And, as most arrays, they are naturally mutable as
they are stateful data structure (which makes them perfect for imperative
paradigms that relies on state), in contrast to stateless data structures like
lists (more associated to functional paradigm):</p>
<pre class="prettyprint lang-scala">
scala> val array: Array[Int] = Array(1, 2, 3)
array: Array[Int] = Array(1, 2, 3)

scala> array(0)
res0: Int = 1

scala> array(0) = 5 // This, not valid in lists, is valid in arrays.

scala> array(0)  // Arrays are mutable!
res1: Int = 5
</pre>

<p>In general terms, you&#39;ll be able to do many of the lists&#39; operations in an
array (like concatenation, traverse, length). However, as I state before,
arrays are not lists, and cannot replace them in all the occasions. The thing
is that arrays <em>do not</em> have a functionality to add (append or prepend)
elements to them (and if they do, usually are very time and resource consuming
which is not a good idea). You can emulate it with the concatenation, but it&#39;s
not the same thing, and this workaround creates a new structure instead of
modifying the existing one:</p>
<pre class="prettyprint lang-scala">
var array = Array(1, 2) // Pay attention to the "var" instead of "val"
array(2) // Will throw an exception.

array = array ++ Array(3) // I'm reassigning the array value as "++" creates a new structure.
array(2) // The new array now has three elements. This will return 3.
</pre>

<p>Ok, all good, we now have a workaround and it works. Not the simplest and
definitely not the prettiest one, but it works. All set? Are we happy? Of
course we are not happy. It can&#39;t be that Scala won&#39;t consider a real mutable
list in its library.</p>
<p>Then again, you are right, the Scala team of course made this consideration.
But it&#39;s not a built-in data structure, but one you&#39;ll have to import from the
Scala collection library.</p>
<h4>Scala ListBuffer</h4>
<p>Ok, so we finally meet a real equivalent to the Python list. Or at least the
closest one I can think of. Scala ListBuffer is a mutable data structure which
can mimic a Python list&#39;s operations.</p>
<p>For this you&#39;ll have to import it as it is not in the built-in types of Scala
(but is included in the Scala library). First, let see a little about module
imports:</p>
<pre class="prettyprint lang-scala">
import scala.collection.mutable.ListBuffer // Self explanatory

import scala.collection.mutable._  // Equivalent to Python: from library.sublibrary import *

import scala.collection.mutable.{ListBuffer => MutableList} // Rename of the import
</pre>

<p>Very basics, don&#39;t think you need too much to be explained. Now lets get to the
real deal. Listbuffers, as well as arrays, are mutable in its values, which
means they can be changed. But also, a listbuffer has the classic append and
prepend operations without the need of creating a new structure out of it:</p>
<pre class="prettyprint lang-scala">
scala> val list = ListBuffer(1, 2, 3) // ListBuffer can only store one type values as well as a List. Is a "val".
list: ListBuffer[Int] = ListBuffer(1, 2, 3)

scala> list(0)
res0: Int = 1

scala> list(0) = 2  // This is valid in ListBuffer

scala> list(0)
res1: Int = 2

scala> list.append(4)

scala> list
res2: ListBuffer[Int] = ListBuffer(2, 2, 3, 4)

scala> list.prepend(1) = ListBuffer(1, 2, 2, 3, 4)
</pre>

<p>Listbuffers also offer an operator to deal with appending elements at the end.
And finally, they can be easily converted to a Scala list for further working
(if by any chance you needed the listbuffer for an initial construction but
then all the operations are regular list operations):</p>
<pre class="prettyprint lang-scala">
val list = ListBuffer(1, 2)
list += 3 // The new value of the list is: ListBuffer(1, 2, 3).

list + 3 // Beware! this make no sense. And in many cases will throw a type mismatch.

list = list + 3 // Wrong. Even if the operation is permitted (not this case) this is a val reassign.

list.toList // Returns a Scala List
list.result // Same as before
</pre>

<p>There&#39;s also a Scala structure that you can import from the same library of the
ListBuffer, called ArrayBuffer. It provides functionality to append elements
similar to the one of the ListBuffer, but it returns an Array, which is a
better structure (more efficient) when you have to deal with large collections
and more imperative programming. Don&#39;t use it if you&#39;ll have to prepend many
values or you need the final result to be a list.</p>
<p>Other common data structures implemented in the Scala library include queues
and stacks (with internal array and list representations according to what you
need). I leave it to you to find out and look at the best option for you. The
Scala documentation is pretty well <a href="http://docs.scala-lang.org/overviews/collections/introduction.html">written regarding the
collections</a>,
specially the part where it explains the <a href="http://docs.scala-lang.org/overviews/collections/performance-characteristics.html">performance
characteristics</a>.</p>
<p>Ok my fellow readers. I hope you enjoyed the new chapter on my Python to Scala
tutorial. As always, thank you for your time and all comments are welcome.
Until next time, happy coding!</p>
</div></div></div><div class="col-md-1"></div></div><div class="row"><div class="col-md-1"></div><div class="col-md-10"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'crscardellino'; // required: replace example with your forum shortname
    var disqus_identifier = '0005';
    var disqus_title = 'Crash Course: From Python to Scala (IV)';
    var disqus_url = 'http://crscardellino.me/posts/python-to-scala-iv';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div><div class="col-md-1"></div></div></div></section><section id="footer"> <div class="container"><div class="row"><div class="col-md-7">&nbsp;</div><div class="col-md-5"><h4 class="pull-right">Website design & content <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">&copy; 2014 Cristian Cardellino</a></h4></div></div><div class="row"><div class="col-md-8">&nbsp;</div><div class="col-md-4 pull-right"><p class="pull-right">Powered by <a href="http://harpjs.com" target="_blank">Harpjs </a>&amp; <a href="http://github.io" target="_blank">GitHub Pages</a></p></div></div><div class="row"><div class="col-md-8">&nbsp;</div><div class="col-md-4"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" class="pull-right"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"/></a></div></div></div></section><!-- JavaScript --><!-- Placed at the end of the document so the pages load faster --><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script src="/javascript/main.js" type="text/javascript"></script><script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?lang=scala&amp;skin=sons-of-obsidian" type="text/javascript"></script></body></html>